/* --- Layout / grids / fixed row heights --- */
:root{
  --card-w: 220px;          /* keep in sync with components.css */
  --card-ratio: 1.4;
  --card-h: calc(var(--card-w) * var(--card-ratio));
  --g: 18px;                /* grid gap */
}

/* Aetherflow: 5 cards, fixed row height = card height */
.flowWrap{ overflow:hidden; }
.flowGrid{
  display:grid;
  grid-template-columns: repeat(5, var(--card-w));
  grid-auto-rows: var(--card-h);
  gap: var(--g);
  justify-content:center;
}
.flowGrid .marketCard{ width:var(--card-w); height:var(--card-h); }
.flowGrid .costCell{ height:24px; margin-bottom:10px; }

/* Player board: 3 spell + 1 glyph to the right, fixed height */
#playerSlots{
  display:grid;
  grid-template-columns: repeat(3, var(--card-w)) var(--card-w);
  gap: var(--g);
  justify-content:center;
}
#playerSlots .slotCell{ width:var(--card-w); height:var(--card-h); }
#playerSlots .slotCell.glyph{ grid-column:4; }

/* AI board: 3 spell slots, fixed height */
#aiSlots{
  display:grid;
  grid-template-columns: repeat(3, var(--card-w));
  gap: var(--g);
  justify-content:center;
}
#aiSlots .slotCell{ width:var(--card-w); height:var(--card-h); }

/* Hand ribbon at bottom, not clipped; cards fan within it */
.ribbon-wrap{ position:fixed; left:0; right:0; bottom:0; z-index:30; }
.ribbon{
  position:relative; height: calc(var(--card-h) * .65 + 36px);
  padding: 0 120px;         /* breathing room left/right */
  backdrop-filter: blur(3px);
}
.handFan{ position:absolute; left:50%; bottom:10px; transform:translateX(-50%); }

/* Each .handCard gets absolutely positioned by JS (fan math), so ensure it has
   enough space to extend upward without being clipped by panel margins. */
.wrap{ padding-bottom: calc(var(--card-h) * .75 + 120px); }

/* Generic helpers */
.emptyCell{ color:#bcb4a7; font-weight:600; }
