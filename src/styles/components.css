/* ===========================================
   THE GREY — components.css
   MTG size + crisp edge/shadow
   Hand ribbon fixed, centered, no clipping
   iOS/Safari safe; accurate pick-up
   Hold preview = real card, smooth, 200%
   =========================================== */

/* ---------- Theme tokens ---------- */
:root{
  --bg:#F3EEE5;
  --panel:#FFF;
  --panel-soft:#F9F6F0;
  --ink:#2a2a2a;
  --muted:#777;
  --chip:#f2e7d0;
  --chip-ink:#945c00;

  /* MTG ratio ≈ 3.5/2.5 */
  --card-ratio: 1.4;
  --card-w: 220px;
  --card-h: calc(var(--card-w) * var(--card-ratio));

  --radius: 18px;
  --shadow: 0 6px 20px rgba(0,0,0,.08);

  /* Hand fan overlap (negative margin on hand cards) */
  --fan-overlap: -60px;

  /* Hold-to-preview zoom (grow-in-place) */
  --preview-scale: 2; /* 200% */
}

*{ box-sizing:border-box; }

/* Keep fixed children truly fixed on iOS; never clip */
html, body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font:16px/1.4 system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif;
  transform:none !important;
  -webkit-transform:none !important;
  overflow:visible !important;
}

/* Leave room for the fixed hand tray */
body{
  padding-bottom: calc(var(--card-h) + 28px + env(safe-area-inset-bottom, 0)) !important;
}

/* ---------- Shell panels ---------- */
.wrap{ max-width:1200px; margin:24px auto 160px; padding:0 16px; }
.zone{
  background:var(--panel); border-radius:14px; box-shadow:var(--shadow);
  padding:18px; margin:12px 0;
  position:relative; z-index:100; overflow:visible !important;
}
.zone .title{ font-weight:600; color:#594f43; margin:0 0 8px; }

/* ---------- Aetherflow chips ---------- */
.costCell{ display:flex; justify-content:center; }
.costChip{
  display:inline-flex; align-items:center; justify-content:center;
  width:28px; height:28px; border-radius:999px;
  background:var(--chip); color:var(--chip-ink); font-weight:600;
  box-shadow: inset 0 1px 0 #fff8, 0 1px 2px rgba(0,0,0,.06);
}

/* ---------- Card / MTG dimensions ---------- */
.card{ width:var(--card-w); height:var(--card-h); }
.slotCell{ width:var(--card-w); height:var(--card-h); }

/* Base card surface */
.card{
  position:relative;
  border-radius