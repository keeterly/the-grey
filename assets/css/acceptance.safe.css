/* acceptance.safe.css — v2.2.9
   • Equal board heights (AI/AF/You = 120px)
   • 2× press-and-hold preview uses a detached clone (smooth, no ghost)
   • Hand cards spread subtly while previewing
   • Disable selection/callout everywhere inside app
*/

html, body { margin:0; padding:0; }
html.mobile-land, html.mobile-land body {
  height:100%; width:100%; overflow:hidden; background:#f7f5f0; -webkit-text-size-adjust:100%;
  -webkit-user-select:none; user-select:none; -webkit-touch-callout:none; touch-action:manipulation;
}

/* Fixed-size surface; JS centers/scales it */
#app,
#app.tg-canvas{
  position:absolute; left:50%; top:50%; width:1280px; height:720px;
  transform:translate(-50%,-50%) scale(1); transform-origin:50% 50%; will-change:transform;
  -webkit-user-select:none; user-select:none; -webkit-touch-callout:none;
}

@supports (-webkit-touch-callout:none){
  html.mobile-land, html.mobile-land body {
    min-height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }
}

@media (orientation:landscape){ .tg-title, .logo-title { display:none !important; } }

/* ---------- Equal board heights ---------- */
:root { --board-h: 120px; --af-h: 120px; }

#app .board{
  height:var(--board-h);       /* fixed, not min-height -> visually identical rows */
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  gap:8px; margin:0 auto; padding:6px 8px; max-width:1280px; border-radius:10px;
}
#app .aetherflow{
  height:var(--af-h);
  display:flex; align-items:center; justify-content:center; gap:8px;
  margin:0 auto; padding:6px 8px; max-width:1280px; border-radius:10px;
}

/* ---------- Zones / slots centered ---------- */
#app .tg-zone{
  display:flex; align-items:center; justify-content:center;
  gap:8px; padding:8px 8px; width:100%;
}
#app .tg-zone .tg-slot{
  flex:0 0 auto; min-height:96px;
  display:flex; align-items:center; justify-content:center;
}
#app .tg-zone--aetherflow .tg-slot{ min-height:64px; }

/* ---------- Compact cards ---------- */
#app .slot, #app .glyph-slot, #app .af-card, #app .slots .card{
  width:96px; height:136px; border-radius:10px;
  -webkit-user-select:none; user-select:none; -webkit-touch-callout:none;
}
#app .slots{
  display:flex; align-items:center; justify-content:center; gap:8px;
  margin-inline:auto;
}

/* Aetherflow internals */
#app .aetherflow .af-cards{ display:flex; align-items:center; justify-content:center; gap:6px; min-height:58px; }
#app .aetherflow .af-controls{ display:none !important; }
html.af-zoom #app .aetherflow{ transform:none; }

/* ---------- Hand (fan) ---------- */
#app .hand{ position:relative; height:180px; }
#app .hand .card{ position:absolute; left:50%; transform-origin:50% 100%; will-change:transform; }

/* Spread neighbors when previewing one card in hand */
#app .hand.spread .card{
  transition: transform 120ms ease, z-index 120ms ease;
}

/* ---------- Preview layer (detached clone) ---------- */
#tgPreviewLayer{
  position:fixed; inset:0; pointer-events:none; z-index:11000; display:none;
}
#tgPreviewLayer.show{ display:block; }
.preview-card{
  position:absolute; left:0; top:0;
  transform:translate(-50%, -50%) scale(2); /* 2× everywhere by default */
  transform-origin:center center;
  box-shadow:0 18px 48px rgba(0,0,0,.32);
  border-radius:10px; background:#fff;
}

/* Hand preview pops up a bit higher than default */
.preview-card.is-hand{
  transform:translate(-50%, -72px) scale(2);   /* lift above fan */
  transform-origin:50% 85%;
}

/* Overlay to suppress selection during hold (safety) */
#tgNoSelectOverlay{ position:fixed; inset:0; background:transparent; z-index:10999; display:none; }
#tgNoSelectOverlay.show{ display:block; }

/* Rotate overlay + snap */
.tg-rotate-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.75); color:#fff; display:none; align-items:center; justify-content:center; z-index:12000; text-align:center; padding:24px; }
.tg-rotate-overlay.show{ display:flex; }
.tg-rotate-card{ background:#121212; border:1px solid rgba(255,255,255,.12); border-radius:16px; padding:18px 20px; max-width:360px; box-shadow:0 12px 36px rgba(0,0,0,.45); }
.tg-rotate-title{ font-size:18px; font-weight:700; margin-bottom:8px; }
.tg-rotate-sub{ font-size:13px; opacity:.85; }

@keyframes tgSnap{ 0%{transform:scale(.94);} 60%{transform:scale(1.06);} 100%{transform:scale(1);} }
.card.drop-zoom{ animation: tgSnap 160ms ease-out; }

body::-webkit-scrollbar{ display:none; }
