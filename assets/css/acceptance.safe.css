/* acceptance.safe.css — v2.3.0 Mobile Unified
   • Hand rendered in a fixed HUD-like layer (not scaled with canvas)
   • 2× press-and-hold preview keeps card formatting identical (pure transform)
   • Remove any tap/active lift on hand cards
   • Boards: AI / Aetherflow / You all 160px tall
   • Global no-select / no-callout to prevent text highlighting while holding
*/

html, body { margin:0; padding:0; }
html.mobile-land, html.mobile-land body{
  height:100%; width:100%; overflow:hidden; background:#f7f5f0; -webkit-text-size-adjust:100%;
  -webkit-user-select:none; user-select:none; -webkit-touch-callout:none; touch-action:manipulation;
}

/* Scaled game canvas */
#app, #app.tg-canvas{
  position:absolute; left:50%; top:50%;
  width:1280px; height:720px;
  transform:translate(-50%,-50%) scale(1);
  transform-origin:50% 50%;
  will-change:transform;
}

/* Equal board heights (now 160px) */
:root{ --board-h:160px; --af-h:160px; }

#app .board{
  height:var(--board-h);
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  gap:8px; margin:0 auto; padding:6px 8px; max-width:1280px; border-radius:10px;
}
#app .aetherflow{
  height:var(--af-h);
  display:flex; align-items:center; justify-content:center; gap:8px;
  margin:0 auto; padding:6px 8px; max-width:1280px; border-radius:10px;
}

/* Centered slot rows */
#app .tg-zone{ display:flex; align-items:center; justify-content:center; gap:8px; padding:8px 8px; width:100%; }
#app .tg-zone .tg-slot{ flex:0 0 auto; min-height:96px; display:flex; align-items:center; justify-content:center; }
#app .tg-zone--aetherflow .tg-slot{ min-height:64px; }

/* Compact card size on board/AF */
#app .slot, #app .glyph-slot, #app .af-card, #app .slots .card{
  width:96px; height:136px; border-radius:10px;
}

/* ---------- HUD Hand Layer (fixed, not scaled) ---------- */
#tgHandLayer{
  position:fixed;
  left:50%; transform:translateX(-50%);
  /* sit above HUD by ~54px, adjust if you change HUD size */
  bottom:calc(54px + env(safe-area-inset-bottom));
  width:var(--tg-scaled-width, min(1280px, 100vw));
  pointer-events:none; z-index:10800;
}
#tgHandLayer .hand{
  position:relative; height:180px; pointer-events:auto;
}
#tgHandLayer .hand .card{
  position:absolute; left:50%; transform-origin:50% 100%; will-change:transform;
}

/* Kill any little :active lifts on hand cards */
#tgHandLayer .hand .card:active,
#app .hand .card:active{ transform: none !important; }

/* ---------- Bottom HUD ---------- */
.hud-min{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:calc(8px + env(safe-area-inset-bottom));
  width:var(--tg-scaled-width, min(1280px, 100vw));
  display:flex; align-items:center; justify-content:space-between;
  padding:0 10px; gap:10px; pointer-events:none;
}
.hud-min .left, .hud-min .right{ display:flex; align-items:center; gap:10px; pointer-events:auto; }
#tgCompactToggle, #tgAFZoom{ display:none !important; }

/* ---------- 2× Press-and-hold Preview (pure transform) ---------- */
/* detached preview layer so original card never reflows */
#tgPreviewLayer{ position:fixed; inset:0; pointer-events:none; z-index:11000; display:none; }
#tgPreviewLayer.show{ display:block; }
.preview-card{
  position:absolute; left:0; top:0;
  /* IMPORTANT: do not change width/height of inner content; only transform */
  transform: translate(-50%, -50%) scale(2);
  transform-origin: center center;
  box-shadow:0 18px 48px rgba(0,0,0,.32);
  border-radius:10px;
  font-size: inherit;
  background: transparent; /* keep original visuals exactly */
}
.preview-card.is-hand{
  transform: translate(-50%, -72px) scale(2);
  transform-origin:50% 85%;
}

/* No-select overlay (extra safety on iOS) */
#tgNoSelectOverlay{ position:fixed; inset:0; background:transparent; z-index:10999; display:none; }
#tgNoSelectOverlay.show{ display:block; }

/* Misc */
@media (orientation:landscape){ .tg-title, .logo-title{ display:none !important; } }
@keyframes tgSnap{ 0%{transform:scale(.94);} 60%{transform:scale(1.06);} 100%{transform:scale(1);} }
.card.drop-zoom{ animation: tgSnap 160ms ease-out; }
body::-webkit-scrollbar{ display:none; }
